<!--Body Container-->
<!--Breadcrumbs-->
<div class="breadcrumbs-wrapper">
  <div class="container">
    <div class="breadcrumbs">
      <a routerLink="/home" title="Back to the home page">Home</a>
      <span aria-hidden="true">|</span> <span>Your Cart</span>
    </div>
  </div>
</div>
<!--End Breadcrumbs-->
<!--Page Title with Image-->
<div class="page-title">
  <h1><span class="span">M</span>y <span class="span">C</span>art</h1>
</div>
<!--End Page Title with Image-->
<div class="container">
  <div class="row">
    <!--Main Content-->
    <div class="col-12 col-sm-12 col-md-8 col-lg-8 main-col">
      <form action="#" method="post" class="cart style2">
            <div class="table-responsive"style="max-height: 400px; overflow-y: auto;">

        <table>
          <thead class="cart__row cart__header">
            <tr>
              <th class="text-center">Product</th>
              <th class="text-center">Image</th>
              <th class="text-center">Price</th>
              <th class="text-center">Quantity</th>
              <th class="text-right">Total</th>
              <th class="action">&nbsp;</th>
            </tr>
          </thead>
          <tbody>
            <tr
              class="cart__row border-bottom line1 cart-flex border-top"
              *ngFor="let item of cart?.items"
            >
              <td class="cart__image-wrapper cart-flex-item text-center">
                {{ item.productName }}
              </td>
              <td class="text-center">
                <img
                  [src]="item.imageUrl"
                  [alt]="item.productName"
                  width="60"
                  height="60"
                  class="rounded shadow-sm border"
                  style="object-fit: contain"
                />
              </td>
              <td class="cart__price-wrapper cart-flex-item text-center">
                {{ item.price | currency }}
              </td>

              <td class="cart__update-wrapper cart-flex-item text-center">
                <input
                  type="number"
                  name="quantity_{{item.productId}}"
                  [ngModel]="item.quantity"
                  (ngModelChange)="onQuantityChange($event, item)"
                  min="1"
                  class="form-control text-center"
                  style="width: 80px; margin: auto;"
                />
              </td>
              

              <td class="text-right">
                {{ item.price * item.quantity | currency }}
              </td>
              <td class="text-right">
                <i
                  style="cursor: pointer"
                  class="fa-solid fa-circle-xmark"
                  (click)="removeFromCart(cart!.id, item.productId)"
                ></i>
              </td>
            </tr>
          </tbody>

          <tfoot >
            <tr>
              <td colspan="3" class="text-left">
                <a routerLink="/product-card" class="btn--link cart-continue"
                  ><i class="fas fa-arrow-circle-left"></i> Continue shopping</a
                >
              </td>
            </tr>
          </tfoot>
        </table>
        </div>

        <div class="solid-border">
          <div class="row">
            <span class="col-12 col-sm-6 cart__subtotal-title"
              ><strong>Subtotal</strong></span
            >
            <span
              class="col-12 col-sm-6 cart__subtotal-title cart__subtotal text-right"
              ><span class="money">{{
                getCartSubtotal() | currency
              }}</span></span
            >
          </div>
          <div class="cart__shipping">
            Shipping &amp; taxes calculated at checkout
          </div>
          <p class="cart_tearm">
            <label>
              <input
                type="checkbox"
                name="tearm"
                id="cartTearm"
                class="checkbox"
                value="tearm"
                required
              />
              I agree with the terms and conditions</label
            >
          </p>
          <input
            type="submit"
            name="checkout"
            id="cartCheckout"
            class="btn btn--small-wide checkout"
            value="Proceed To Checkout"
            routerLink="/order-form"
          />
          <div class="paymnet-img">
            <img src="assets/images/payment-img.jpg" alt="Payment" />
          </div>
        </div>
      </form>
    </div>
  </div>
</div>
